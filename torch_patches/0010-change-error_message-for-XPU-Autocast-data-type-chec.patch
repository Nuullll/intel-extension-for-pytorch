From eb2ecf44d7f5f988215bc2b45a50373ea76e7f5a Mon Sep 17 00:00:00 2001
From: xiaolil1 <xiaoli.liu@intel.com>
Date: Wed, 24 May 2023 14:00:55 +0800
Subject: [PATCH 10/25] change error_message for XPU Autocast data type check
 (#130)

(cherry picked from commit 922f52a5078799f64359b8179a1db143cdba2fda)
---
 torch/amp/autocast_mode.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/torch/amp/autocast_mode.py b/torch/amp/autocast_mode.py
index 11ce2c7beb4..9dca47c7e73 100644
--- a/torch/amp/autocast_mode.py
+++ b/torch/amp/autocast_mode.py
@@ -219,7 +219,7 @@ class autocast:
             supported_dtype = [torch.bfloat16, torch.float16]
             if self.fast_dtype not in supported_dtype:
                 error_message = 'In XPU autocast, but the target dtype is not supported. Disabling autocast.\n'
-                error_message += 'XPU Autocast only supports dtype of torch.bfloat16 currently.'
+                error_message += 'XPU Autocast only supports dtypes of torch.bfloat16 and torch.float16 currently.'
                 warnings.warn(error_message)
                 enabled = False
         elif self.device == 'hpu':
-- 
2.34.1

